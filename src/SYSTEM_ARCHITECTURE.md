# System Architecture & Data Flow Diagram

## ğŸ“ University Management System - Complete Overview

---

## ğŸ“Š Database Schema Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATABASE STRUCTURE                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLE: courses
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id (PK)                         â”‚
â”‚ course_code (UNIQUE)            â”‚ e.g., "TEST101"
â”‚ course_name                     â”‚ e.g., "Programming"
â”‚ credits                         â”‚ e.g., 3
â”‚ max_students                    â”‚ e.g., 100 (0=unlimited)
â”‚ faculty_id (FK)                 â”‚ Optional
â”‚ enroll_start (NULLABLE)         â”‚
â”‚ enroll_end (NULLABLE)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (1 to Many)
         â”‚
         â”‚ (course_id)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE: course_sections               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                              â”‚
â”‚ course_id (FK â†’ courses.id)          â”‚ Links to course
â”‚ section_name                         â”‚ e.g., "A", "B", "C"
â”‚ instructor                           â”‚ e.g., "Dr. Smith"
â”‚ capacity                             â”‚ e.g., 30
â”‚ created_at                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ (1 to Many)
         â”‚
         â”‚ (section_id)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE: section_schedules             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                              â”‚
â”‚ section_id (FK â†’ course_sections.id) â”‚ Links to section
â”‚ day_of_week                          â”‚ M, T, W, R, F, S, X
â”‚ start_time                           â”‚ HH:MM (24-hour)
â”‚ end_time                             â”‚ HH:MM (24-hour)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘ (Many to 1)
         â”‚
         â”‚ (section_id)
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE: enrollments                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                                  â”‚
â”‚ student_id (FK â†’ students.student_id)   â”‚ Which student
â”‚ section_id (FK â†’ course_sections.id)    â”‚ Which section
â”‚ course_id (FK â†’ courses.id)             â”‚ Which course
â”‚ status                                  â”‚ enrolled/dropped/completed
â”‚ enrolled_at                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘
         â”‚
         â”‚ Student enrolls in sections
         â”‚
    Students Table
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ student_id   â”‚
    â”‚ name         â”‚
    â”‚ semester     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Conflict Detection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STUDENT VIEWS COURSES PAGE        â”‚
â”‚  (courses_new.php)                 â”‚
â”‚                                    â”‚
â”‚  Calls: getCourseSectionsWithSchedule()
â”‚  Displays:                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TEST101 - Programming        â”‚ â”‚
â”‚  â”‚ â”œâ”€ Section A                 â”‚ â”‚
â”‚  â”‚ â”‚  Mon/Wed 08:00-09:30      â”‚ â”‚
â”‚  â”‚ â”‚  Dr. Smith | 25/30        â”‚ â”‚
â”‚  â”‚ â”‚  [ENROLL BUTTON]          â”‚ â”‚
â”‚  â”‚ â”‚                            â”‚ â”‚
â”‚  â”‚ â””â”€ Section B                 â”‚ â”‚
â”‚  â”‚    Tue/Thu 10:00-11:30      â”‚ â”‚
â”‚  â”‚    Dr. Johnson | 28/30      â”‚ â”‚
â”‚  â”‚    [ENROLL BUTTON]          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Student clicks [ENROLL]
             â”‚ for Section A
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST REQUEST TO                    â”‚
â”‚ enroll_action_new.php              â”‚
â”‚                                    â”‚
â”‚ Payload:                           â”‚
â”‚ {                                  â”‚
â”‚   action: "enroll",                â”‚
â”‚   section_id: 1                    â”‚
â”‚ }                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHP: enroll_action_new.php                 â”‚
â”‚                                            â”‚
â”‚ 1. Get student_id from session             â”‚
â”‚ 2. Verify section exists                   â”‚
â”‚ 3. Check section capacity                  â”‚
â”‚    â””â”€ IF FULL â†’ Block, show error         â”‚
â”‚ 4. CALL: checkScheduleConflicts()         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘  CONFLICT DETECTION FUNCTION           â•‘
    â•‘  (scheduling_helpers.php)              â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚
         â†“                â†“
    DATABASE QUERY 1   DATABASE QUERY 2
    
    "Get proposed      "Get student's
     section's         enrolled
     schedule"         sections"
         
    SELECT FROM          SELECT FROM
    section_schedules    enrollments
    WHERE               WHERE
    section_id = 1     student_id = 001
         â”‚                â”‚
         â†“                â†“
    Results:           Results:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ M 08:00-09:30â”‚   â”‚ TEST102-A      â”‚
    â”‚ W 08:00-09:30â”‚   â”‚ (existing      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  enrollment)   â”‚
    (Proposed section) â”‚ section_id: 3  â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Get TEST102-A's schedule             â”‚
    â”‚ (DATABASE QUERY 3)                   â”‚
    â”‚                                      â”‚
    â”‚ SELECT FROM section_schedules        â”‚
    â”‚ WHERE section_id = 3                 â”‚
    â”‚                                      â”‚
    â”‚ Results:                             â”‚
    â”‚ M 08:00-09:30                        â”‚
    â”‚ W 08:00-09:30                        â”‚
    â”‚ (Student's existing course)          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ COMPARE SCHEDULES                    â”‚
    â”‚                                      â”‚
    â”‚ Proposed: M 08:00-09:30              â”‚
    â”‚ Existing: M 08:00-09:30              â”‚
    â”‚                                      â”‚
    â”‚ Step 1: Same day?                    â”‚
    â”‚   M === M â†’ YES âœ“                    â”‚
    â”‚                                      â”‚
    â”‚ Step 2: Time overlap?                â”‚
    â”‚   08:00-09:30 vs 08:00-09:30         â”‚
    â”‚   â†’ checkTimeOverlap() â†’ TRUE âœ“      â”‚
    â”‚                                      â”‚
    â”‚ Step 3: Result?                      â”‚
    â”‚   CONFLICT FOUND! âš ï¸                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ Return conflict array
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Return:                              â”‚
    â”‚ [                                    â”‚
    â”‚   {                                  â”‚
    â”‚     course_code: "TEST102",          â”‚
    â”‚     course_name: "Database Design",  â”‚
    â”‚     day: "Monday",                   â”‚
    â”‚     time: "08:00 - 09:30"           â”‚
    â”‚   }                                  â”‚
    â”‚ ]                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ Back in enroll_action_new.php
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ if ($conflicts) { ... }              â”‚
    â”‚                                      â”‚
    â”‚ YES - Conflict exists                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ STORE ERROR MESSAGE IN SESSION       â”‚
    â”‚                                      â”‚
    â”‚ $_SESSION['errors'][] =              â”‚
    â”‚ "âš ï¸ Schedule Conflict:               â”‚
    â”‚  You already have course(s) at this  â”‚
    â”‚  time:                               â”‚
    â”‚  â€¢ TEST102 - Database Design         â”‚
    â”‚    Monday 08:00 - 09:30"            â”‚
    â”‚                                      â”‚
    â”‚ header('location: courses_new.php'); â”‚
    â”‚ exit();                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ REDIRECT BACK TO COURSES PAGE        â”‚
    â”‚                                      â”‚
    â”‚ courses_new.php displays:            â”‚
    â”‚                                      â”‚
    â”‚ âš ï¸ CONFLICT WARNING BOX              â”‚
    â”‚ "Schedule Conflict:                  â”‚
    â”‚  You already have course(s)...       â”‚
    â”‚  â€¢ TEST102 - Database Design         â”‚
    â”‚    Monday 08:00 - 09:30"            â”‚
    â”‚                                      â”‚
    â”‚ [ENROLL] button DISABLED/HIDDEN      â”‚
    â”‚                                      â”‚
    â”‚ âŒ ENROLLMENT BLOCKED                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… No Conflict Scenario

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STUDENT CLICKS [ENROLL]           â”‚
â”‚  For TEST101 Section B             â”‚
â”‚  (Tue/Thu 10:00-11:30)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Check Conflict               â”‚
    â”‚                              â”‚
    â”‚ Proposed:                    â”‚
    â”‚   Tue 10:00-11:30           â”‚
    â”‚   Thu 10:00-11:30           â”‚
    â”‚                              â”‚
    â”‚ Student has:                 â”‚
    â”‚   TEST102-A                  â”‚
    â”‚   Mon/Wed 08:00-09:30       â”‚
    â”‚                              â”‚
    â”‚ Comparison:                  â”‚
    â”‚   Tue â‰  Mon (different day) â”‚
    â”‚   Tue â‰  Wed (different day) â”‚
    â”‚   Thu â‰  Mon (different day) â”‚
    â”‚   Thu â‰  Wed (different day) â”‚
    â”‚                              â”‚
    â”‚ Result: NO OVERLAP âœ“         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ if (!$conflicts) { ... }             â”‚
    â”‚                                      â”‚
    â”‚ NO - No conflict exists              â”‚
    â”‚ Proceed with enrollment              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ INSERT INTO ENROLLMENTS              â”‚
    â”‚                                      â”‚
    â”‚ INSERT INTO enrollments (            â”‚
    â”‚   student_id,                        â”‚
    â”‚   section_id,                        â”‚
    â”‚   course_id,                         â”‚
    â”‚   status,                            â”‚
    â”‚   enrolled_at                        â”‚
    â”‚ ) VALUES (                           â”‚
    â”‚   001,                               â”‚
    â”‚   2,     â† Section B                â”‚
    â”‚   1,     â† TEST101                  â”‚
    â”‚   'enrolled',                        â”‚
    â”‚   NOW()                              â”‚
    â”‚ )                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ENROLLMENT SUCCESSFUL!               â”‚
    â”‚                                      â”‚
    â”‚ $_SESSION['success'] =               â”‚
    â”‚ "Successfully enrolled in the        â”‚
    â”‚  section!"                           â”‚
    â”‚                                      â”‚
    â”‚ âœ… GREEN SUCCESS MESSAGE            â”‚
    â”‚                                      â”‚
    â”‚ [DROP] button now visible            â”‚
    â”‚ [ENROLL] button hidden               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—“ï¸ Time Overlap Logic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           TIME OVERLAP CHECKER                           â”‚
â”‚           (checkTimeOverlap function)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example 1: EXACT SAME TIME
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Proposed:  08:00 â”€â”€â”€â”€â”€â”€ 09:30       â”‚
â”‚ Existing:  08:00 â”€â”€â”€â”€â”€â”€ 09:30       â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ OVERLAP
â”‚ Result: âŒ CONFLICT                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example 2: PARTIAL OVERLAP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Proposed:  08:00 â”€â”€â”€â”€â”€â”€â”€â”€ 09:30     â”‚
â”‚ Existing:      09:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 10:30
â”‚            â””â”€â”€â”€â”€â”˜                    â”‚ OVERLAP (09:00-09:30)
â”‚ Result: âŒ CONFLICT                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example 3: TOUCHING BOUNDARY
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Proposed:  08:00 â”€â”€â”€â”€â”€â”€ 09:30       â”‚
â”‚ Existing:           09:30 â”€â”€â”€ 11:00  â”‚
â”‚ Result: âœ… NO CONFLICT               â”‚
â”‚ (One ends exactly when other starts) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example 4: COMPLETELY SEPARATE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Proposed:  08:00 â”€â”€â”€â”€â”€â”€ 09:30       â”‚
â”‚ Existing:              10:00 â”€â”€â”€ 11:30
â”‚                                      â”‚
â”‚ Result: âœ… NO CONFLICT               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ALGORITHM:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
ConvertToMinutes(time):
  Returns minutes since midnight
  08:00 â†’ 480 (8 Ã— 60)
  09:30 â†’ 570 (8 Ã— 60 + 30)

TimeOverlap(start1, end1, start2, end2):
  Convert all to minutes
  Return: NOT(end1 â‰¤ start2 OR end2 â‰¤ start1)
  
  If TRUE â†’ Times overlap
  If FALSE â†’ No overlap
```

---

## ğŸ‘¥ User Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   STUDENT LOGIN          â”‚
â”‚   username: student_001  â”‚
â”‚   password: ****         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Dashboard              â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚ â”‚ â€¢ My Enrollments â”‚   â”‚
    â”‚ â”‚ â€¢ My Grades      â”‚   â”‚
    â”‚ â”‚ â€¢ Courses â˜…      â”‚   â”‚ â† CLICK HERE
    â”‚ â”‚ â€¢ Logout         â”‚   â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ COURSES PAGE (courses_new.php)     â”‚
    â”‚                                    â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚ â”‚ TEST101 - Programming        â”‚  â”‚
    â”‚ â”‚ Credits: 3 | Faculty: CS     â”‚  â”‚
    â”‚ â”‚                              â”‚  â”‚
    â”‚ â”‚ SECTION A                    â”‚  â”‚
    â”‚ â”‚ Instructor: Dr. Smith        â”‚  â”‚
    â”‚ â”‚ Mon, Wed 08:00-09:30        â”‚  â”‚
    â”‚ â”‚ Enrollment: 25/30            â”‚  â”‚
    â”‚ â”‚ [ENROLL]                     â”‚  â”‚
    â”‚ â”‚                              â”‚  â”‚
    â”‚ â”‚ SECTION B                    â”‚  â”‚
    â”‚ â”‚ Instructor: Dr. Johnson      â”‚  â”‚
    â”‚ â”‚ Tue, Thu 10:00-11:30        â”‚  â”‚
    â”‚ â”‚ Enrollment: 28/30            â”‚  â”‚
    â”‚ â”‚ [ENROLL] â˜…                   â”‚  â”‚ â† CLICK HERE
    â”‚ â”‚                              â”‚  â”‚
    â”‚ â”‚ SECTION C                    â”‚  â”‚
    â”‚ â”‚ Instructor: Dr. Williams     â”‚  â”‚
    â”‚ â”‚ Mon, Wed 13:00-14:30        â”‚  â”‚
    â”‚ â”‚ Enrollment: 20/30            â”‚  â”‚
    â”‚ â”‚ [ENROLL]                     â”‚  â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                                    â”‚
    â”‚ [TEST102...] [CS201...] [...]     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Submits form
                 â”‚ action="enroll"
                 â”‚ section_id=2
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend Processing             â”‚
    â”‚ (enroll_action_new.php)        â”‚
    â”‚                                â”‚
    â”‚ 1. Verify section exists       â”‚
    â”‚ 2. Check capacity              â”‚
    â”‚ 3. Check for conflicts         â”‚
    â”‚ 4. If OK â†’ Insert to database  â”‚
    â”‚ 5. Redirect back               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“ Redirect
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ COURSES PAGE (AGAIN)               â”‚
    â”‚                                    â”‚
    â”‚ âœ… "Successfully enrolled in the  â”‚
    â”‚    section!"                       â”‚
    â”‚                                    â”‚
    â”‚ SECTION B (UPDATED STATUS)         â”‚
    â”‚ Instructor: Dr. Johnson            â”‚
    â”‚ Tue, Thu 10:00-11:30              â”‚
    â”‚ Enrollment: 29/30                  â”‚
    â”‚ [âœ“ ENROLLED] [DROP]               â”‚ â† STATUS CHANGED
    â”‚                                    â”‚
    â”‚ Can now see in "My Enrollments"   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Database Relationships

```
students
â”‚
â”œâ”€ has_many â†’ enrollments
â”‚             â”‚
â”‚             â””â”€ belongs_to â†’ course_sections (section_id)
â”‚                 â”‚
â”‚                 â”œâ”€ has_many â†’ section_schedules
â”‚                 â”‚
â”‚                 â””â”€ belongs_to â†’ courses (course_id)
â”‚
courses
â”‚
â””â”€ has_many â†’ course_sections
    â”‚
    â””â”€ has_many â†’ section_schedules
        â”‚
        â””â”€ has_many â†’ enrollments (through course_sections)
```

---

## ğŸ“‹ Day Code Reference

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DAY CODES IN DATABASE       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ S = Sunday                  â”‚
â”‚ M = Monday                  â”‚
â”‚ T = Tuesday                 â”‚
â”‚ W = Wednesday               â”‚
â”‚ R = Thursday (not T!)       â”‚
â”‚ F = Friday                  â”‚
â”‚ X = Flexible (no fixed day) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example Schedules:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Mon/Wed class:
  Day: M, Start: 08:00, End: 09:30
  Day: W, Start: 08:00, End: 09:30

Tue/Thu class:
  Day: T, Start: 10:00, End: 11:30
  Day: R, Start: 10:00, End: 11:30

MWF class:
  Day: M, Start: 13:00, End: 13:50
  Day: W, Start: 13:00, End: 13:50
  Day: F, Start: 13:00, End: 13:50
```

---

## âœ¨ System Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    YOUR COMPLETE SYSTEM                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATABASE LAYER
â”œâ”€ 6 main tables: courses, course_sections, section_schedules,
â”‚  enrollments, students, users
â”œâ”€ Relationships: courses â†’ sections â†’ schedules
â”‚                          â†“
â”‚                    enrollments
â””â”€ Constraints: Foreign keys ensure data integrity

APPLICATION LAYER
â”œâ”€ courses_new.php
â”‚  â”œâ”€ Displays courses with sections
â”‚  â”œâ”€ Shows schedules (days & times)
â”‚  â”œâ”€ Checks for conflicts in real-time
â”‚  â””â”€ Shows [ENROLL]/[DROP] buttons
â”‚
â””â”€ enroll_action_new.php
   â”œâ”€ Processes enrollment requests
   â”œâ”€ Calls checkScheduleConflicts()
   â”œâ”€ Blocks if conflict found
   â””â”€ Inserts to database if OK

HELPER FUNCTIONS
â”œâ”€ checkScheduleConflicts()
â”‚  â””â”€ Main conflict detection logic
â”œâ”€ getCourseSectionsWithSchedule()
â”‚  â””â”€ Gets section info with times
â”œâ”€ checkTimeOverlap()
â”‚  â””â”€ Compares time slots
â””â”€ getDayName()
   â””â”€ Converts Mâ†’Monday, etc.

SECURITY
â”œâ”€ Prepared statements (SQL injection safe)
â”œâ”€ Session-based authentication
â”œâ”€ User role checking
â””â”€ Input validation
```

---

This diagram shows your complete, production-ready university management system!
